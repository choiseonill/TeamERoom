<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="BoardDao"><!-- 인터페이스 이름 적어줌 -->
  
  <resultMap type="BoardVO" id="BoardVOMap">
    <id column="ID" property="ID"/>
	<result column="TITLE" property="title"/>
	<result column="BODY" property="body"/>
	<result column="WRITE_DATE" property="writeDate"/>
	<result column="VIEW_COUNT" property="viewCount"/>
	<result column="TYPE" property="type"/>
	<result column="STATUS" property="status"/>
	<association property="memberVO" javaType="MemberVO">
	 <id column="M_ID" property="id"/>
	 <result column="EMAIL" property="email"/>
  </association>	 
  </resultMap>	
 	<insert id="insertBoard" parameterType="BoardVO">
		INSERT	INTO BOARD
				(
				ID
				, TITLE
				, BODY
				, WRITE_DATE
				, VIEW_COUNT
				, TYPE
				, STATUS
				)
				VALUES
				(
				BOARD_SEQ.NEXTVAL
				, #{title}
				, #{body}
				, SYSDATE
				, 0
				, #{type}
				, 0
				)
	</insert>
	
  	<select id="selectAll" resultMap="BoardVOMap">
  		SELECT	 B.ID
  				,B.TITLE
  				,B.BODY
  		FROM 	BOARD B
  		ORDER 	BY B.ID DESC
  	</select>
  	
  </mapper>
  